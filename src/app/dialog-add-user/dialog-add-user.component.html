<mat-progress-bar *ngIf="loading"  mode="indeterminate" style="background-color: blue;"></mat-progress-bar>

<h1 mat-dialog-title>Add User</h1>
<mat-dialog-content>
  <div>
    <mat-form-field appearance="outline" class="mr-16">
      <mat-label>First Name</mat-label>
      <input [disabled]="loading" [(ngModel)]="customer.firstName" matInput placeholder=" " />
      <!-- <mat-hint>Enter First Name here</mat-hint> -->
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Last Name</mat-label>
      <input [disabled]="loading"  [(ngModel)]="customer.lastName" matInput placeholder=" " />
      <!-- <mat-hint>Enter Last Name here</mat-hint> -->
    </mat-form-field>
  </div>

  <div>
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Email</mat-label>
    <input [disabled]="loading" [(ngModel)]="customer.email" type="email" matInput [formControl]="emailFormControl" placeholder="Ex. pat@example.com">
    @if (emailFormControl.hasError('email') && !emailFormControl.hasError('required')) {
      <mat-error>Please enter a valid email address</mat-error>
    }
    @if (emailFormControl.hasError('required')) {
      <mat-error>Email is <strong>required</strong></mat-error>
    }
    </mat-form-field>
  </div>

  <div>
    <mat-form-field appearance="outline">
      <mat-label>Choose a date</mat-label>
      <input [disabled]="loading" [(ngModel)]="birthDate" matInput [matDatepicker]="picker">
      <!-- <mat-hint>MM/DD/YYYY</mat-hint> -->
      <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>
  </div>

      <p>
        <mat-form-field appearance="outline" class="example-full-width full-width">
          <mat-label>Street and House No.</mat-label>
          <input [disabled]="loading" [(ngModel)]="customer.street" matInput placeholder=" " />
        </mat-form-field>
        <mat-form-field appearance="outline" class="example-full-width">
          <mat-label>Additional data address</mat-label>
          <textarea [disabled]="loading"[(ngModel)]="customer.address2" matInput></textarea>
        </mat-form-field>
      </p>
      <table class="example-full-width" cellspacing="0"><tr>
        <td><mat-form-field appearance="outline" class="example-full-width mr-16">
          <mat-label>City</mat-label>
          <input [disabled]="loading" [(ngModel)]="customer.city" matInput placeholder="">
        </mat-form-field></td>

        <td><mat-form-field appearance="outline" class="example-full-width">
          <mat-label>Zip Code</mat-label>
          <input [disabled]="loading" [(ngModel)]="customer.zipCode" matInput #postalCode maxlength="5" placeholder="" >
        </mat-form-field></td>
      </tr></table>

</mat-dialog-content>
<mat-dialog-actions>
  <button [disabled]="loading" mat-button (click)="closeDialog()">Cancel</button>
  <button [disabled]="loading" mat-button (click)="saveCustomer()" cdkFocusInitial>Save</button>
</mat-dialog-actions>
