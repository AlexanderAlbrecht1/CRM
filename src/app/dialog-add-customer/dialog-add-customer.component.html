<mat-progress-bar *ngIf="loading"  mode="indeterminate" style="background-color: blue;"></mat-progress-bar>

<h1 mat-dialog-title>Neuen Kunden anlegen</h1>
<mat-dialog-content>
  <div>
    <mat-form-field appearance="outline" class="mr-16">
      <mat-label>Vorname</mat-label>
      <input [disabled]="loading" [(ngModel)]="customer.firstName" matInput placeholder=" " />
      <!-- <mat-hint>Enter First Name here</mat-hint> -->
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Nachname</mat-label>
      <input [disabled]="loading"  [(ngModel)]="customer.lastName" matInput placeholder=" " />
      <!-- <mat-hint>Enter Last Name here</mat-hint> -->
    </mat-form-field>
  </div>

  <div>
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Email</mat-label>
    <input [disabled]="loading" [(ngModel)]="customer.email" type="email" matInput [formControl]="emailFormControl" placeholder="Ex. pat@example.com">
    @if (emailFormControl.hasError('email') && !emailFormControl.hasError('required')) {
      <mat-error>Bitte gültige Emailadresse eingeben</mat-error>
    }
    </mat-form-field>
  </div>

  <div>
    <mat-form-field appearance="outline">
      <mat-label>Gburtsdatum auswählen</mat-label>
      <input [disabled]="loading" [(ngModel)]="birthDate" matInput [matDatepicker]="picker">
      <!-- <mat-hint>MM/DD/YYYY</mat-hint> -->
      <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>
  </div>

      <p>
        <mat-form-field appearance="outline" class="example-full-width full-width">
          <mat-label>Starße und Hausnummer</mat-label>
          <input [disabled]="loading" [(ngModel)]="customer.street" matInput placeholder=" " />
        </mat-form-field>
        <mat-form-field appearance="outline" class="example-full-width">
          <mat-label>Hinweise Adresse</mat-label>
          <textarea [disabled]="loading"[(ngModel)]="customer.address2" matInput></textarea>
        </mat-form-field>
      </p>
      <table class="example-full-width" cellspacing="0"><tr>
        <td><mat-form-field appearance="outline" class="example-full-width mr-16">
          <mat-label>Stadt</mat-label>
          <input [disabled]="loading" [(ngModel)]="customer.city" matInput placeholder="">
        </mat-form-field></td>

        <td><mat-form-field appearance="outline" class="example-full-width">
          <mat-label>Postleitzahl</mat-label>
          <input [disabled]="loading" [(ngModel)]="customer.zipCode" matInput #postalCode maxlength="5" placeholder="" >
        </mat-form-field></td>
      </tr></table>

</mat-dialog-content>
<mat-dialog-actions>
  <button [disabled]="loading" mat-button (click)="closeDialog()">Cancel</button>
  <button [disabled]="loading" mat-button (click)="saveCustomer()" cdkFocusInitial>Save</button>
</mat-dialog-actions>

